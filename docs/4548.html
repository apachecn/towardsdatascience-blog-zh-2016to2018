<html>
<head>
<title>TPOT Automated Machine Learning in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python ä¸­çš„ TPOT è‡ªåŠ¨æœºå™¨å­¦ä¹ </h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/tpot-automated-machine-learning-in-python-4c063b3e5de9?source=collection_archive---------4-----------------------#2018-08-22">https://towardsdatascience.com/tpot-automated-machine-learning-in-python-4c063b3e5de9?source=collection_archive---------4-----------------------#2018-08-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/94aceb0109a4cc629f49913f2d7a33d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*dCD9QwVjhVnKKz6U.jpg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">TPOT graphic from the <a class="ae jy" href="http://epistasislab.github.io/tpot/" rel="noopener ugc nofollow" target="_blank">docs</a></figcaption></figure><p id="28e9" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘åˆ†äº«äº†æˆ‘å’Œ Python ä¸­çš„è‡ªåŠ¨æœºå™¨å­¦ä¹ (autoML)å·¥å…·<a class="ae jy" href="http://epistasislab.github.io/tpot/" rel="noopener ugc nofollow" target="_blank"> TPOT </a>çš„ä¸€äº›æ¢ç´¢ã€‚ç›®æ ‡æ˜¯çœ‹çœ‹ TPOT èƒ½åšä»€ä¹ˆï¼Œä»¥åŠå®ƒæ˜¯å¦å€¼å¾—æˆä¸ºä½ æœºå™¨å­¦ä¹ å·¥ä½œæµç¨‹çš„ä¸€éƒ¨åˆ†ã€‚</p><p id="ea69" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è‡ªåŠ¨åŒ–æœºå™¨å­¦ä¹ ä¸ä¼šå–ä»£æ•°æ®ç§‘å­¦å®¶ï¼Œ(è‡³å°‘ç°åœ¨ä¸ä¼š)ï¼Œä½†å®ƒå¯èƒ½ä¼šå¸®åŠ©ä½ æ›´å¿«åœ°æ‰¾åˆ°å¥½çš„æ¨¡å‹ã€‚TPOT è‡ªç§°æ˜¯ä½ çš„æ•°æ®ç§‘å­¦åŠ©æ‰‹ã€‚</p><blockquote class="kx ky kz"><p id="cb7a" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated">TPOT æ—¨åœ¨æˆä¸ºä¸€ä¸ªåŠ©æ‰‹ï¼Œé€šè¿‡æ¢ç´¢ä½ å¯èƒ½ä»æœªè€ƒè™‘è¿‡çš„ç®¡é“é…ç½®ï¼Œç»™ä½ æä¾›å¦‚ä½•è§£å†³ç‰¹å®šæœºå™¨å­¦ä¹ é—®é¢˜çš„æƒ³æ³•ï¼Œç„¶åå°†å¾®è°ƒç•™ç»™æ›´å—çº¦æŸçš„å‚æ•°è°ƒæ•´æŠ€æœ¯ï¼Œå¦‚ç½‘æ ¼æœç´¢ã€‚</p></blockquote><p id="105d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æ‰€ä»¥ TPOT å¸®åŠ©ä½ æ‰¾åˆ°å¥½çš„ç®—æ³•ã€‚è¯·æ³¨æ„ï¼Œå®ƒä¸æ˜¯ä¸ºè‡ªåŠ¨åŒ–æ·±åº¦å­¦ä¹ è€Œè®¾è®¡çš„â€”â€”ç±»ä¼¼ AutoKeras çš„ä¸œè¥¿å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi le"><img src="../Images/cc958da9f9f183593e6c024d3349782d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iYQTbI4WVGUF1_F1.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk"><a class="ae jy" href="http://epistasislab.github.io/tpot/" rel="noopener ugc nofollow" target="_blank"><strong class="bd ln">An example machine learning pipeline (source: TPOT docs)</strong></a></figcaption></figure><p id="f60d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOT å»ºç«‹åœ¨ scikit learn åº“çš„åŸºç¡€ä¸Šï¼Œå¹¶ä¸¥æ ¼éµå¾ª scikit learn APIã€‚å®ƒå¯ä»¥ç”¨äºå›å½’å’Œåˆ†ç±»ä»»åŠ¡ï¼Œå¹¶ä¸ºåŒ»å­¦ç ”ç©¶æä¾›ç‰¹æ®Šçš„å®ç°ã€‚</p><p id="99d6" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOT æ˜¯å¼€æºçš„ï¼Œæœ‰å¾ˆå¥½çš„æ–‡æ¡£è®°å½•ï¼Œæ­£åœ¨ç§¯æå¼€å‘ä¸­ã€‚å®ƒçš„å¼€å‘æ˜¯ç”±å®¾å¤•æ³•å°¼äºšå¤§å­¦çš„ç ”ç©¶äººå‘˜å¸¦å¤´è¿›è¡Œçš„ã€‚TPOT ä¼¼ä¹æ˜¯æœ€å—æ¬¢è¿çš„ autoML åº“ä¹‹ä¸€ï¼Œæˆªè‡³ 2018 å¹´ 8 æœˆï¼Œæœ‰è¿‘<a class="ae jy" href="https://github.com/EpistasisLab/tpot/" rel="noopener ugc nofollow" target="_blank">4500 ä¸ª GitHub star</a>ã€‚</p><h1 id="47d3" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">TPOT æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h1><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi mm"><img src="../Images/435471a6488ee34b3a208561d11aa533.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vqs4500HEIa4eN4D.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk"><a class="ae jy" href="http://epistasislab.github.io/tpot/" rel="noopener ugc nofollow" target="_blank">An example TPOT Pipeline</a> (source: TPOT docs)</figcaption></figure><p id="7ff3" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOT æ‹¥æœ‰å…¶å¼€å‘è€…æ‰€ç§°çš„é—ä¼ æœç´¢ç®—æ³•æ¥å¯»æ‰¾æœ€ä½³å‚æ•°å’Œæ¨¡å‹é›†åˆã€‚å®ƒä¹Ÿå¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ç§è‡ªç„¶é€‰æ‹©æˆ–è¿›åŒ–ç®—æ³•ã€‚TPOT å°è¯•äº†ä¸€æ¡æµæ°´çº¿ï¼Œè¯„ä¼°äº†å®ƒçš„æ€§èƒ½ï¼Œå¹¶éšæœºæ”¹å˜äº†æµæ°´çº¿çš„æŸäº›éƒ¨åˆ†ï¼Œä»¥å¯»æ‰¾æ€§èƒ½æ›´å¥½çš„ç®—æ³•ã€‚</p><blockquote class="kx ky kz"><p id="72b5" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated">AutoML ç®—æ³•ä¸åƒåœ¨æ•°æ®é›†ä¸Šæ‹Ÿåˆä¸€ä¸ªæ¨¡å‹é‚£ä¹ˆç®€å•ï¼›ä»–ä»¬æ­£åœ¨è€ƒè™‘å¤šç§æœºå™¨å­¦ä¹ ç®—æ³•(éšæœºæ£®æ—ã€çº¿æ€§æ¨¡å‹ã€æ”¯æŒå‘é‡æœºç­‰ã€‚)åœ¨å…·æœ‰å¤šä¸ªé¢„å¤„ç†æ­¥éª¤(ç¼ºå¤±å€¼æ’è¡¥ã€ç¼©æ”¾ã€PCAã€ç‰¹å¾é€‰æ‹©ç­‰)çš„æµæ°´çº¿ä¸­ã€‚)ï¼Œæ‰€æœ‰æ¨¡å‹å’Œé¢„å¤„ç†æ­¥éª¤çš„è¶…å‚æ•°ï¼Œä»¥åŠåœ¨æµæ°´çº¿å†…é›†æˆæˆ–å †å ç®—æ³•çš„å¤šç§æ–¹å¼ã€‚<em class="iq">(æ¥æº:</em><a class="ae jy" href="http://epistasislab.github.io/tpot/using/" rel="noopener ugc nofollow" target="_blank"><em class="iq">ã€TPOT æ–‡æ¡£ã€‘</em> </a> <em class="iq"> ) </em></p></blockquote><p id="67d4" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOT çš„è¿™ç§èƒ½åŠ›æ¥è‡ªäºè‡ªåŠ¨é«˜æ•ˆåœ°è¯„ä¼°å„ç§å¯èƒ½çš„ç®¡é“ã€‚æ‰‹åŠ¨å®Œæˆè¿™é¡¹å·¥ä½œæ—¢éº»çƒ¦åˆæ…¢ã€‚</p><h1 id="eb6d" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">è¿è¡Œ TPOT</h1><p id="717e" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">TPOT åˆ†ç±»å™¨çš„å®ä¾‹åŒ–ã€æ‹Ÿåˆå’Œè¯„åˆ†ç±»ä¼¼äºä»»ä½•å…¶ä»– sklearn åˆ†ç±»å™¨ã€‚æ ¼å¼å¦‚ä¸‹:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="5b37" class="mx lp iq mt b gy my mz l na nb">tpot = TPOTClassifier()<br/>tpot.fit(X_train, y_train)<br/>tpot.score(X_test, y_test)</span></pre><p id="12c6" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOT æœ‰è‡ªå·±çš„ä¸€é”®ç¼–ç å˜ä½“ã€‚æ³¨æ„ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨å°†å…¶æ·»åŠ åˆ°ç®¡é“ä¸­ï¼Œå› ä¸ºå®ƒå°†å…·æœ‰å°‘äº 10 ä¸ªå”¯ä¸€å€¼çš„ç‰¹æ€§è§†ä¸ºåˆ†ç±»ç‰¹æ€§ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨è‡ªå·±çš„ç¼–ç ç­–ç•¥ï¼Œä½ å¯ä»¥å¯¹ä½ çš„æ•°æ®è¿›è¡Œç¼–ç ï¼Œç„¶å<em class="la">å†</em>æŠŠå®ƒè¾“å…¥ TPOTã€‚</p><p id="d227" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æ‚¨å¯ä»¥ä¸º tpot.score é€‰æ‹©è¯„åˆ†æ ‡å‡†(å°½ç®¡ Jupyter å’Œå¤šå¤„ç†å™¨å†…æ ¸çš„ä¸€ä¸ª bug ä½¿æ‚¨æ— æ³•åœ¨ Jupyter ç¬”è®°æœ¬ä¸­æ‹¥æœ‰ä¸€ä¸ªå¤šå¤„ç†å™¨å†…æ ¸çš„è‡ªå®šä¹‰è¯„åˆ†æ ‡å‡†)ã€‚</p><p id="461a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">çœ‹æ¥ä½ ä¸èƒ½æ”¹å˜ TPOT åœ¨å†…éƒ¨æœç´¢æœ€ä½³ç®¡é“æ—¶ä½¿ç”¨çš„è¯„åˆ†æ ‡å‡†ï¼Œåªèƒ½æ”¹å˜ TPOT é€‰æ‹©æœ€ä½³ç®—æ³•ååœ¨æµ‹è¯•é›†ä¸Šä½¿ç”¨çš„è¯„åˆ†æ ‡å‡†ã€‚è¿™æ˜¯ä¸€äº›ç”¨æˆ·å¯èƒ½æƒ³è¦æ›´å¤šæ§åˆ¶çš„é¢†åŸŸã€‚ä¹Ÿè®¸åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­ä¼šå¢åŠ è¿™ä¸ªé€‰é¡¹ã€‚</p><p id="e43d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOT ä½¿ç”¨ tpot.export()å°†æœ‰å…³æœ€ä½³æ€§èƒ½ç®—æ³•åŠå…¶å‡†ç¡®åº¦åˆ†æ•°çš„ä¿¡æ¯å†™å…¥æ–‡ä»¶ã€‚æ‚¨å¯ä»¥é€‰æ‹© TPOT è¿è¡Œæ—¶å¸Œæœ›çœ‹åˆ°çš„å†—é•¿ç¨‹åº¦ï¼Œå¹¶è®©å®ƒåœ¨è¿è¡Œæ—¶å°†ç®¡é“å†™å…¥è¾“å‡ºæ–‡ä»¶ï¼Œä»¥é˜²ç”±äºæŸç§åŸå› æå‰ç»ˆæ­¢(ä¾‹å¦‚ï¼Œæ‚¨çš„ Kaggle å†…æ ¸å´©æºƒ)ã€‚</p><h1 id="6e93" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">TPOT è¦è·‘å¤šé•¿æ—¶é—´ï¼Ÿ</h1><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi nc"><img src="../Images/323c09b60b648f70d4628bec103bce1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aZPBqIana8u1uf3RjxlUlA.jpeg"/></div></div></figure><p id="0cf3" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ç®€è€Œè¨€ä¹‹ï¼Œè¿™è¦è§†æƒ…å†µè€Œå®šã€‚</p><p id="1c90" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOT è¢«è®¾è®¡ä¸ºè¿è¡Œä¸€æ®µæ—¶é—´â€”â€”å‡ ä¸ªå°æ—¶ç”šè‡³ä¸€å¤©ã€‚å°½ç®¡ä½¿ç”¨è¾ƒå°æ•°æ®é›†çš„ä¸å¤ªå¤æ‚çš„é—®é¢˜å¯ä»¥åœ¨å‡ åˆ†é’Ÿå†…çœ‹åˆ°å¾ˆå¥½çš„ç»“æœã€‚æ‚¨å¯ä»¥è°ƒæ•´ TPOT çš„å‡ ä¸ªå‚æ•°ï¼Œä»¥ä¾¿æ›´å¿«åœ°å®Œæˆæœç´¢ï¼Œä½†ä»£ä»·æ˜¯å¯¹æœ€ä½³ç®¡é“çš„æœç´¢ä¸å¤Ÿå½»åº•ã€‚å®ƒå¹¶ä¸æ˜¯ä¸ºäº†å¯¹é¢„å¤„ç†æ­¥éª¤ã€ç‰¹æ€§é€‰æ‹©ã€ç®—æ³•å’Œå‚æ•°è¿›è¡Œå…¨é¢çš„æœç´¢è€Œè®¾è®¡çš„ï¼Œä½†æ˜¯å¦‚æœæ‚¨å°†å®ƒçš„å‚æ•°è®¾ç½®å¾—æ›´è¯¦å°½ä¸€äº›ï¼Œå®ƒå¯èƒ½ä¼šæ›´æ¥è¿‘ã€‚</p><p id="77b5" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æ­£å¦‚åŒ»ç”Ÿè§£é‡Šçš„é‚£æ ·:</p><blockquote class="kx ky kz"><p id="1843" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated">â€¦TPOT å°†éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½åœ¨è¾ƒå¤§çš„æ•°æ®é›†ä¸Šè¿è¡Œï¼Œä½†äº†è§£åŸå› å¾ˆé‡è¦ã€‚ä½¿ç”¨é»˜è®¤çš„ TPOT è®¾ç½®(100 ä»£ï¼Œ100 äººå£è§„æ¨¡)ï¼ŒTPOT å°†åœ¨å®Œæˆå‰è¯„ä¼° 10ï¼Œ000 ä¸ªç®¡é“é…ç½®ã€‚ä¸ºäº†å°†è¿™ä¸ªæ•°å­—æ”¾å…¥ä¸Šä¸‹æ–‡ä¸­ï¼Œè€ƒè™‘æœºå™¨å­¦ä¹ ç®—æ³•çš„ 10ï¼Œ000 ä¸ªè¶…å‚æ•°ç»„åˆçš„ç½‘æ ¼æœç´¢ï¼Œä»¥åŠè¯¥ç½‘æ ¼æœç´¢éœ€è¦å¤šé•¿æ—¶é—´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰ 10ï¼Œ000 ä¸ªæ¨¡å‹é…ç½®è¦ç”¨ 10 é‡äº¤å‰éªŒè¯æ¥è¯„ä¼°ï¼Œè¿™æ„å‘³ç€åœ¨ä¸€æ¬¡ç½‘æ ¼æœç´¢ä¸­ï¼Œå¤§çº¦æœ‰ 100ï¼Œ000 ä¸ªæ¨¡å‹é€‚åˆå¹¶è¯„ä¼°äº†è®­ç»ƒæ•°æ®ã€‚</p></blockquote><p id="431f" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æˆ‘ä»¬å°†åœ¨ä¸‹é¢çœ‹åˆ°çš„ä¸€äº›æ•°æ®é›†åªéœ€è¦å‡ åˆ†é’Ÿå°±å¯ä»¥æ‰¾åˆ°å¾—åˆ†è¾ƒé«˜çš„ç®—æ³•ï¼›å…¶ä»–äººå¯èƒ½éœ€è¦å‡ å¤©ã€‚</p><p id="9510" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ä»¥ä¸‹æ˜¯é»˜è®¤çš„ TPOTClassifier å‚æ•°:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="100d" class="mx lp iq mt b gy my mz l na nb">generations=100, <br/>population_size=100, <br/>offspring_size=None  # Jeff notes this gets set to population_size<br/>mutation_rate=0.9, <br/>crossover_rate=0.1, <br/>scoring="Accuracy",  # for Classification<br/>cv=5, <br/>subsample=1.0, <br/>n_jobs=1,<br/>max_time_mins=None, <br/>max_eval_time_mins=5,<br/>random_state=None, <br/>config_dict=None,<br/>warm_start=False, <br/>memory=None,<br/>periodic_checkpoint_folder=None, <br/>early_stop=None<br/>verbosity=0<br/>disable_update_check=False</span></pre><p id="dd56" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æ¯ä¸ªå‚æ•°çš„æè¿°å¯ä»¥åœ¨<a class="ae jy" href="http://epistasislab.github.io/tpot/api/" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>ä¸­æ‰¾åˆ°ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå†³å®š TPOT å°†æœç´¢çš„ç®¡é“æ•°é‡çš„å…³é”®å› ç´ :</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="8ecc" class="mx lp iq mt b gy my mz l na nb"><strong class="mt ir">generations:</strong> int, optional (default: 100)           <br/>Number of iterations to the run pipeline optimization process.            Generally, TPOT will work better when you give it more generations(and therefore time) to optimize the pipeline. </span><span id="65d9" class="mx lp iq mt b gy nd mz l na nb"><strong class="mt ir">TPOT will evaluate POPULATION_SIZE + GENERATIONS x OFFSPRING_SIZE pipelines in total </strong>(emphasis mine).</span><span id="e290" class="mx lp iq mt b gy nd mz l na nb"><strong class="mt ir">population_size:</strong> int, optional (default: 100)            <br/>Number of individuals to retain in the GP population every generation. <br/>Generally, TPOT will work better when you give it more individuals (and therefore time) to optimize the pipeline. </span><span id="ca8d" class="mx lp iq mt b gy nd mz l na nb"><strong class="mt ir">offspring_size:</strong> int, optional (default: None)<br/>Number of offspring to produce in each GP generation.            <br/>By default, offspring_size = population_size.</span></pre><p id="2d40" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ä» TPOT å¼€å§‹ï¼Œè®¾ç½®<em class="la"> verbosity=3 </em>å’Œ<em class="la">periodic _ check point _ folder = " any _ string _ you _ like "</em>æ˜¯å€¼å¾—çš„ï¼Œè¿™æ ·ä½ å°±å¯ä»¥çœ‹åˆ°æ¨¡å‹çš„å‘å±•å’Œè®­ç»ƒåˆ†æ•°çš„æé«˜ã€‚å½“ç®¡é“å…ƒç´ çš„ä¸€äº›ç»„åˆä¸å…¼å®¹æ—¶ï¼Œæ‚¨ä¼šçœ‹åˆ°ä¸€äº›é”™è¯¯ï¼Œä½†æ˜¯ä¸è¦æ‹…å¿ƒã€‚</p><p id="b1e8" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¦‚æœæ‚¨æ­£åœ¨å¤šæ ¸ä¸Šè¿è¡Œï¼Œå¹¶ä¸”æ²¡æœ‰ä½¿ç”¨è‡ªå®šä¹‰è®¡åˆ†åŠŸèƒ½ï¼Œè¯·è®¾ç½® n_jobs=-1 ä»¥ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„å†…æ ¸å¹¶åŠ é€Ÿ TPOTã€‚</p><h2 id="294c" class="mx lp iq bd lq ne nf dn lu ng nh dp ly kk ni nj mc ko nk nl mg ks nm nn mk no bi translated">æœç´¢ç©ºé—´</h2><p id="d957" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">ä»¥ä¸‹æ˜¯ TPOT ä»ç‰ˆæœ¬ 0.9 å¼€å§‹é€‰æ‹©çš„åˆ†ç±»ç®—æ³•å’Œå‚æ•°:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="f433" class="mx lp iq mt b gy my mz l na nb">â€˜sklearn.naive_bayes.<strong class="mt ir">BernoulliNB</strong>â€™: { â€˜alphaâ€™: [1e-3, 1e-2, 1e-1, 1., 10., 100.], â€˜fit_priorâ€™: [True, False] }, </span><span id="80a6" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.naive_bayes.<strong class="mt ir">MultinomialNB</strong>â€™: { â€˜alphaâ€™: [1e-3, 1e-2, 1e-1, 1., 10., 100.], â€˜fit_priorâ€™: [True, False] }, </span><span id="1d86" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.tree.<strong class="mt ir">DecisionTreeClassifier</strong>â€™: { â€˜criterionâ€™: [â€œginiâ€, â€œentropyâ€], â€˜max_depthâ€™: range(1, 11), â€˜min_samples_splitâ€™: range(2, 21), â€˜min_samples_leafâ€™: range(1, 21) }, </span><span id="81e4" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.ensemble.<strong class="mt ir">ExtraTreesClassifier</strong>â€™: { â€˜n_estimatorsâ€™: [100], â€˜criterionâ€™: [â€œginiâ€, â€œentropyâ€], â€˜max_featuresâ€™: np.arange(0.05, 1.01, 0.05), â€˜min_samples_splitâ€™: range(2, 21), â€˜min_samples_leafâ€™: range(1, 21), â€˜bootstrapâ€™: [True, False] },</span><span id="7e15" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.ensemble.<strong class="mt ir">RandomForestClassifier</strong>â€™: { â€˜n_estimatorsâ€™: [100], â€˜criterionâ€™: [â€œginiâ€, â€œentropyâ€], â€˜max_featuresâ€™: np.arange(0.05, 1.01, 0.05), â€˜min_samples_splitâ€™: range(2, 21), â€˜min_samples_leafâ€™: range(1, 21), â€˜bootstrapâ€™: [True, False] }, </span><span id="987d" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.ensemble.<strong class="mt ir">GradientBoostingClassifier</strong>â€™: { â€˜n_estimatorsâ€™: [100], â€˜learning_rateâ€™: [1e-3, 1e-2, 1e-1, 0.5, 1.], â€˜max_depthâ€™: range(1, 11), â€˜min_samples_splitâ€™: range(2, 21), â€˜min_samples_leafâ€™: range(1, 21), â€˜subsampleâ€™: np.arange(0.05, 1.01, 0.05), â€˜max_featuresâ€™: np.arange(0.05, 1.01, 0.05) },</span><span id="fe30" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.neighbors.<strong class="mt ir">KNeighborsClassifier</strong>â€™: { â€˜n_neighborsâ€™: range(1, 101), â€˜weightsâ€™: [â€œuniformâ€, â€œdistanceâ€], â€˜pâ€™: [1, 2] }, </span><span id="8b1c" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.svm.<strong class="mt ir">LinearSVC</strong>â€™: { â€˜penaltyâ€™: [â€œl1â€, â€œl2â€], â€˜lossâ€™: [â€œhingeâ€, â€œsquared_hingeâ€], â€˜dualâ€™: [True, False], â€˜tolâ€™: [1e-5, 1e-4, 1e-3, 1e-2, 1e-1], â€˜Câ€™: [1e-4, 1e-3, 1e-2, 1e-1, 0.5, 1., 5., 10., 15., 20., 25.] }, </span><span id="f11c" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.linear_model.<strong class="mt ir">LogisticRegression</strong>â€™: { â€˜penaltyâ€™: [â€œl1â€, â€œl2â€], â€˜Câ€™: [1e-4, 1e-3, 1e-2, 1e-1, 0.5, 1., 5., 10., 15., 20., 25.], â€˜dualâ€™: [True, False] }, </span><span id="3a48" class="mx lp iq mt b gy nd mz l na nb">â€˜xgboost.<strong class="mt ir">XGBClassifier</strong>â€™: { â€˜n_estimatorsâ€™: [100], â€˜max_depthâ€™: range(1, 11), â€˜learning_rateâ€™: [1e-3, 1e-2, 1e-1, 0.5, 1.], â€˜subsampleâ€™: np.arange(0.05, 1.01, 0.05), â€˜min_child_weightâ€™: range(1, 21), â€˜nthreadâ€™: [1] }</span></pre><p id="e5b6" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¹¶ä¸” TPOT å¯ä»¥å †å åˆ†ç±»å™¨ï¼ŒåŒ…æ‹¬å¤šæ¬¡ç›¸åŒçš„åˆ†ç±»å™¨ã€‚TPOT çš„æ ¸å¿ƒå¼€å‘è€…ä¹‹ä¸€åœ¨æœ¬æœŸ<a class="ae jy" href="https://github.com/EpistasisLab/tpot/issues/360" rel="noopener ugc nofollow" target="_blank">ä¸­è§£é‡Šäº†å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„</a>:</p><blockquote class="kx ky kz"><p id="66df" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated">æµæ°´çº¿<code class="fe np nq nr mt b"><em class="iq">ExtraTreesClassifier(ExtraTreesClassifier(input_matrix, True, 'entropy', 0.10000000000000001, 13, 6), True, 'gini', 0.75, 17, 4)</em></code>æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p><p id="17e7" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated">ä½¿ç”¨æå–æ ‘åˆ†ç±»å™¨æ‹Ÿåˆæ‰€æœ‰åŸå§‹ç‰¹å¾</p><p id="20b4" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated">ä»æå–æ ‘åˆ†ç±»å™¨ä¸­è·å–é¢„æµ‹ï¼Œå¹¶ä½¿ç”¨è¿™äº›é¢„æµ‹åˆ›å»ºæ–°è¦ç´ </p><p id="1dc1" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated">å°†åŸå§‹ç‰¹å¾åŠ ä¸Šæ–°çš„â€œé¢„æµ‹ç‰¹å¾â€ä¼ é€’ç»™ç¬¬äºŒä¸ªæå–æ ‘åˆ†ç±»å™¨ï¼Œå¹¶å°†å…¶é¢„æµ‹ç”¨ä½œç®¡é“çš„æœ€ç»ˆé¢„æµ‹</p><p id="0288" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated">è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºå †å åˆ†ç±»å™¨ï¼Œè¿™æ˜¯æœºå™¨å­¦ä¹ ä¸­ä¸€ç§ç›¸å½“å¸¸è§çš„ç­–ç•¥ã€‚</p></blockquote><p id="cac6" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è¿™é‡Œæ˜¯ TPOT ä» 0.9 ç‰ˆæœ¬å¼€å§‹å¯ä»¥åº”ç”¨çš„ 11 ä¸ªé¢„å¤„ç†ç¨‹åºã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="d8a6" class="mx lp iq mt b gy my mz l na nb">â€˜sklearn.preprocessing.<strong class="mt ir">Binarizer</strong>â€™: { â€˜thresholdâ€™: np.arange(0.0, 1.01, 0.05) }, </span><span id="0959" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.decomposition.<strong class="mt ir">FastICA</strong>â€™: { â€˜tolâ€™: np.arange(0.0, 1.01, 0.05) }, </span><span id="652e" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.cluster.<strong class="mt ir">FeatureAgglomeration</strong>â€™: { â€˜linkageâ€™: [â€˜wardâ€™, â€˜completeâ€™, â€˜averageâ€™], â€˜affinityâ€™: [â€˜euclideanâ€™, â€˜l1â€™, â€˜l2â€™, â€˜manhattanâ€™, â€˜cosineâ€™] }, </span><span id="a716" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.preprocessing.<strong class="mt ir">MaxAbsScaler</strong>â€™: { }, </span><span id="8af9" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.preprocessing.<strong class="mt ir">MinMaxScaler</strong>â€™: { }, </span><span id="5224" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.preprocessing.<strong class="mt ir">Normalizer</strong>â€™: { â€˜normâ€™: [â€˜l1â€™, â€˜l2â€™, â€˜maxâ€™] }, </span><span id="41ee" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.kernel_approximation.<strong class="mt ir">Nystroem</strong>â€™: { â€˜kernelâ€™: [â€˜rbfâ€™, â€˜cosineâ€™, â€˜chi2â€™, â€˜laplacianâ€™, â€˜polynomialâ€™, â€˜polyâ€™, â€˜linearâ€™, â€˜additive_chi2â€™, â€˜sigmoidâ€™], â€˜gammaâ€™: np.arange(0.0, 1.01, 0.05), â€˜n_componentsâ€™: range(1, 11) }, </span><span id="5f67" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.decomposition.<strong class="mt ir">PCA</strong>â€™: { â€˜svd_solverâ€™: [â€˜randomizedâ€™], â€˜iterated_powerâ€™: range(1, 11) }, â€˜sklearn.preprocessing.PolynomialFeaturesâ€™: { â€˜degreeâ€™: [2], â€˜include_biasâ€™: [False], â€˜interaction_onlyâ€™: [False] }, </span><span id="3bdc" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.kernel_approximation.<strong class="mt ir">RBFSampler</strong>â€™: { â€˜gammaâ€™: np.arange(0.0, 1.01, 0.05) }, â€˜sklearn.preprocessing.RobustScalerâ€™: { }, </span><span id="2b61" class="mx lp iq mt b gy nd mz l na nb">â€˜sklearn.preprocessing.<strong class="mt ir">StandardScaler</strong>â€™: { }, â€˜tpot.builtins.ZeroCountâ€™: { }, </span><span id="624b" class="mx lp iq mt b gy nd mz l na nb">â€˜<strong class="mt ir">tpot.builtins.OneHotEncoder</strong>â€™: { â€˜minimum_fractionâ€™: [0.05, 0.1, 0.15, 0.2, 0.25], â€˜sparseâ€™: [False] } (emphasis mine)</span></pre><p id="11a7" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è¿™æ˜¯ä¸€ä¸ªéå¸¸å…¨é¢çš„ sklearn ml ç®—æ³•åˆ—è¡¨ï¼Œç”šè‡³åŒ…æ‹¬ä¸€äº›æ‚¨å¯èƒ½æ²¡æœ‰ç”¨äºé¢„å¤„ç†çš„ç®—æ³•ï¼ŒåŒ…æ‹¬ Nystroem å’Œ RBFSamplerã€‚æœ€ååˆ—å‡ºçš„é¢„å¤„ç†ç®—æ³•å°±æ˜¯ä¹‹å‰æåˆ°çš„è‡ªå®šä¹‰ OneHotEncoderã€‚è¯·æ³¨æ„ï¼Œè¯¥åˆ—è¡¨ä¸åŒ…å«ç¥ç»ç½‘ç»œç®—æ³•ã€‚</p><p id="ad49" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ç»„åˆçš„æ•°é‡å‡ ä¹æ˜¯æ— é™çš„â€”â€”æ‚¨å¯ä»¥å †å ç®—æ³•ï¼ŒåŒ…æ‹¬ç›¸åŒç®—æ³•çš„å®ä¾‹ã€‚ç®¡é“ä¸­çš„æ­¥éª¤æ•°é‡å¯èƒ½æœ‰ä¸€ä¸ªå†…éƒ¨ä¸Šé™ï¼Œä½†å¯ä»¥è¯´å¯èƒ½æœ‰å¤ªå¤šçš„ç®¡é“ã€‚</p><p id="97a4" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¦‚æœæ‚¨è¿è¡Œ TPOT ä¸¤æ¬¡ï¼Œå®ƒå¯èƒ½ä¸ä¼šå¯¼è‡´ç›¸åŒçš„ç®—æ³•é€‰æ‹©(æˆ‘å‘ç°ï¼Œå³ä½¿è®¾ç½®äº† random_stateï¼Œä¹Ÿå¯èƒ½ä¸ä¼šï¼Œå¦‚ä¸‹æ‰€è¿°)ã€‚æ­£å¦‚<a class="ae jy" href="http://epistasislab.github.io/tpot/using/" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>æ‰€è§£é‡Šçš„:</p><blockquote class="kx ky kz"><p id="22d3" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated">å¦‚æœæ‚¨æ­£åœ¨å¤„ç†ç›¸å½“å¤æ‚çš„æ•°æ®é›†æˆ–çŸ­æ—¶é—´è¿è¡Œ TPOTï¼Œä¸åŒçš„ TPOT è¿è¡Œå¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„ç®¡é“å»ºè®®ã€‚TPOT çš„ä¼˜åŒ–ç®—æ³•åœ¨æœ¬è´¨ä¸Šæ˜¯éšæœºçš„ï¼Œè¿™æ„å‘³ç€å®ƒä½¿ç”¨éšæœºæ€§(éƒ¨åˆ†)æ¥æœç´¢å¯èƒ½çš„ç®¡é“ç©ºé—´ã€‚å½“ä¸¤ä¸ª TPOT è¿è¡Œæ¨èä¸åŒçš„ç®¡é“æ—¶ï¼Œè¿™æ„å‘³ç€ TPOT è¿è¡Œç”±äºç¼ºå°‘æ—¶é—´è€Œæ²¡æœ‰æ”¶æ•›<em class="iq">æˆ–</em>å¤šä¸ªç®¡é“åœ¨æ•°æ®é›†ä¸Šæ‰§è¡Œæˆ–å¤šæˆ–å°‘ç›¸åŒçš„æ“ä½œã€‚</p></blockquote><p id="36f2" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å°‘è¯´å¤šåšã€‚è®©æˆ‘ä»¬ç”¨ä¸€äº›æ•°æ®æ¥æ£€éªŒä¸€ä¸‹ TPOTï¼</p><h1 id="cda4" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">æ•°æ®é›† 1: MNIST æ•°å­—åˆ†ç±»</h1><p id="b2c7" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªåˆ†ç±»ä»»åŠ¡ sklearn æ•°æ®é›†ä¸­åŒ…å«çš„æ¥è‡ª<a class="ae jy" href="http://scikit-learn.org/stable/datasets/index.html" rel="noopener ugc nofollow" target="_blank"> MNIST çš„æµè¡Œæ‰‹å†™æ•°å­—åˆ†ç±»ä»»åŠ¡ã€‚MNIST æ•°æ®åº“åŒ…å« 70ï¼Œ000 å¼  28x28 åƒç´ çš„æ‰‹å†™é˜¿æ‹‰ä¼¯æ•°å­—å›¾åƒï¼Œä» 0 åˆ° 9ã€‚</a></p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/e80648eb2ea56a71eba35104a6892127.png" data-original-src="https://miro.medium.com/v2/resize:fit:426/format:webp/1*4PGiye98rEGY3yc3B-_xCg.png"/></div></figure><p id="5a8e" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOT æ˜¯ Kaggle Docker é•œåƒçš„æ ‡å‡†é…ç½®ï¼Œæ‰€ä»¥ä½ åªéœ€è¦åœ¨ä½¿ç”¨ Kaggle çš„æ—¶å€™å¯¼å…¥å®ƒâ€”â€”ä½ ä¸éœ€è¦å®‰è£…å®ƒã€‚</p><p id="f4bb" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è¿™æ˜¯æˆ‘çš„ä»£ç â€”â€”å¯ä»¥åœ¨<a class="ae jy" href="https://www.kaggle.com/discdiver/tpot-with-mnist-digit-classification/" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª Kaggle å†…æ ¸</a>ä¸Šè·å¾—ï¼Œå½¢å¼ç•¥æœ‰ä¸åŒï¼Œå¯èƒ½æœ‰ä¸€äº›ä¿®æ”¹ã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="b4cc" class="mx lp iq mt b gy my mz l na nb"># import the usual stuff<br/>import numpy as np <br/>import pandas as pd <br/>import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>import os</span><span id="f425" class="mx lp iq mt b gy nd mz l na nb"># import TPOT and sklearn stuff<br/>from tpot import TPOTClassifier<br/>from sklearn.datasets import load_digits<br/>from sklearn.model_selection import train_test_split<br/>import sklearn.metrics</span><span id="a73d" class="mx lp iq mt b gy nd mz l na nb"># create train and test sets<br/>digits = load_digits()<br/>X_train, X_test, y_train, y_test = train_test_split(digits.data, digits.target, train_size=0.75, test_size=0.25, random_state=34)</span><span id="b957" class="mx lp iq mt b gy nd mz l na nb">tpot = TPOTClassifier(verbosity=3, <br/>                      scoring="balanced_accuracy", <br/>                      random_state=23, <br/>                      periodic_checkpoint_folder="tpot_mnst1.txt", <br/>                      n_jobs=-1, <br/>                      generations=10, <br/>                      population_size=100)</span><span id="2514" class="mx lp iq mt b gy nd mz l na nb"># run three iterations and time them</span><span id="cc3b" class="mx lp iq mt b gy nd mz l na nb">for x in range(3):<br/>    start_time = timeit.default_timer()<br/>    tpot.fit(X_train, y_train)<br/>    elapsed = timeit.default_timer() - start_time<br/>    times.append(elapsed)<br/>    winning_pipes.append(tpot.fitted_pipeline_)<br/>    scores.append(tpot.score(X_test, y_test))<br/>    tpot.export('tpot_mnist_pipeline.py')</span><span id="91c8" class="mx lp iq mt b gy nd mz l na nb">times = [time/60 for time in times]<br/>print('Times:', times)<br/>print('Scores:', scores)   <br/>print('Winning pipelines:', winning_pipes)</span></pre><p id="cbb1" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¦‚ä¸Šæ‰€è¿°ï¼Œç®¡é“æ€»æ•°ç­‰äºäººå£ _ å¤§å°+ä¸–ä»£ x åä»£ _ å¤§å°ã€‚</p><p id="3308" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ä¾‹å¦‚ï¼Œå¦‚æœè®¾ç½® population_size=20ï¼Œgenerations=5ï¼Œé‚£ä¹ˆ subject _ size = 20(å› ä¸ºé»˜è®¤æƒ…å†µä¸‹ subject _ size ç­‰äº population_sizeã€‚å› ä¸º 20 + (5 * 20 ) = 120ï¼Œæ‰€ä»¥æ€»å…±æœ‰ 120 æ¡ç®¡é“ã€‚</p><p id="cd6c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æ‚¨å¯ä»¥çœ‹åˆ°ï¼Œè¿è¡Œè¿™ä¸ªæ•°æ®é›†æ ¹æœ¬ä¸éœ€è¦å¤ªå¤šä»£ç â€”â€”è¿™åŒ…æ‹¬ä¸€ä¸ªè®¡æ—¶å’Œé‡å¤æµ‹è¯•çš„å¾ªç¯ã€‚</p><p id="1dbd" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æœ‰ 10 ä¸ªå¯èƒ½çš„ç±»åˆ«ï¼Œæ²¡æœ‰ç†ç”±é€‰æ‹©ä¸€ä¸ªç»“æœè€Œä¸æ˜¯å¦ä¸€ä¸ªï¼Œå‡†ç¡®æ€§â€”â€”TPOT åˆ†ç±»çš„é»˜è®¤â€”â€”æ˜¯è¿™é¡¹ä»»åŠ¡çš„ä¸€ä¸ªå¾ˆå¥½çš„è¡¡é‡æ ‡å‡†ã€‚</p><p id="d630" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ä¸‹é¢æ˜¯ç›¸å…³çš„ä»£ç éƒ¨åˆ†ã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="d17f" class="mx lp iq mt b gy my mz l na nb">digits = load_digits()<br/>X_train, X_test, y_train, y_test = train_test_split(digits.data, digits.target, train_size=0.75, test_size=0.25, random_state=34)</span><span id="efdf" class="mx lp iq mt b gy nd mz l na nb">tpot = TPOTClassifier(verbosity=3, <br/> scoring=â€accuracyâ€, <br/> random_state=32, <br/> periodic_checkpoint_folder=â€tpot_results.txtâ€, <br/> n_jobs=-1, <br/> generations=5, <br/> population_size=10,<br/> early_stop=5)</span></pre><p id="3e4d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ç»“æœå¦‚ä¸‹:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="ffa2" class="mx lp iq mt b gy my mz l na nb">Times: [4.740584810283326, 3.497970838083226, 3.4362493358499098]<br/>Scores: [0.9733333333333334, 0.9644444444444444, 0.9666666666666667]</span><span id="e2bf" class="mx lp iq mt b gy nd mz l na nb">Winning pipelines: [</span><span id="c481" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('gradientboostingclassifier', GradientBoostingClassifier(criterion='friedman_mse', init=None,<br/>              learning_rate=0.1, loss='deviance', max_depth=7,<br/>              max_features=0.15000000000000002, max_leaf_nodes=None,<br/>              min_impurity_decrease=0.0, min_impurity_split=None,<br/>...auto', random_state=None,<br/>              subsample=0.9500000000000001, verbose=0, warm_start=False))]), </span><span id="0978" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('standardscaler', StandardScaler(copy=True, with_mean=True, with_std=True)), ('gradientboostingclassifier', GradientBoostingClassifier(criterion='friedman_mse', init=None,<br/>              learning_rate=0.5, loss='deviance', max_depth=2,<br/>              max_features=0.15000000000000002, max_leaf_...auto', random_state=None,<br/>              subsample=0.9500000000000001, verbose=0, warm_start=False))]), </span><span id="fa29" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('standardscaler', StandardScaler(copy=True, with_mean=True, with_std=True)), ('gradientboostingclassifier', GradientBoostingClassifier(criterion='friedman_mse', init=None,<br/>              learning_rate=0.5, loss='deviance', max_depth=2,<br/>              max_features=0.15000000000000002, max_leaf_...auto', random_state=None,<br/>              subsample=0.9500000000000001, verbose=0, warm_start=False))])]</span></pre><p id="31ad" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è¯·æ³¨æ„ï¼Œåªæœ‰ 60 ä¸ªç®¡é“â€”â€”è¿œè¿œå°‘äº TPOT å»ºè®®çš„â€”â€”æˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°ç›¸å½“å¥½çš„åˆ†æ•°â€”â€”åœ¨ä¸€ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæµ‹è¯•é›†çš„å‡†ç¡®ç‡è¶…è¿‡ 97%ã€‚</p><h2 id="f75c" class="mx lp iq bd lq ne nf dn lu ng nh dp ly kk ni nj mc ko nk nl mg ks nm nn mk no bi translated">å†ç°æ€§</h2><p id="ecd1" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">TPOT æ¯æ¬¡éƒ½ç”¨ç›¸åŒçš„ random_state é›†åˆæ‰¾åˆ°ç›¸åŒçš„è·èƒœç®¡é“å—ï¼Ÿä¸ä¸€å®šã€‚åƒ RandomForrestClassifier()è¿™æ ·çš„ç®—æ³•éƒ½æœ‰è‡ªå·±çš„ random_state å‚æ•°ï¼Œè¿™äº›å‚æ•°æ²¡æœ‰è¢«è®¾ç½®ã€‚</p><p id="d125" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¦‚æœä½ å®ä¾‹åŒ–ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œç„¶ååƒæˆ‘ä»¬åœ¨ä¸Šé¢ä»£ç ä¸­çš„<em class="la"> for </em>å¾ªç¯ä¸­æ‰€åšçš„é‚£æ ·åå¤æ‹Ÿåˆï¼ŒTPOT å¹¶ä¸æ€»æ˜¯æ‰¾åˆ°ç›¸åŒçš„ç»“æœã€‚æˆ‘åœ¨ random_state è®¾ç½®å’Œ Kaggle çš„ GPU è®¾ç½®æ‰“å¼€çš„æƒ…å†µä¸‹è¿è¡Œäº†ä¸‰ç»„éå¸¸å°çš„ 60 æ¡ç®¡é“ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ç®¡é“ç•¥æœ‰ä¸åŒï¼Œå› æ­¤ä¸‰ä¸ªæµ‹è¯•é›†çš„æµ‹è¯•é›†å¾—åˆ†ä¹Ÿç•¥æœ‰ä¸åŒã€‚</p><p id="41ca" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ï¼Œæœ‰å°‘é‡çš„ç®¡é“è®¾ç½®äº†éšæœºçŠ¶æ€ï¼Œå¹¶ä½¿ç”¨äº† Kaggle çš„ CPU è®¾ç½®ã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="7e29" class="mx lp iq mt b gy my mz l na nb">Times: [2.8874817832668973, 0.043678393283335025, 0.04388708711679404]<br/>Scores: [0.9622222222222222, 0.9622222222222222, 0.9622222222222222]<br/>Winning pipelines: [</span><span id="6d65" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('gradientboostingclassifier', GradientBoostingClassifier(criterion='friedman_mse', init=None,<br/>              learning_rate=0.5, loss='deviance', max_depth=2,<br/>              max_features=0.15000000000000002, max_leaf_nodes=None,<br/>              min_impurity_decrease=0.0, min_impurity_split=None,<br/>....9500000000000001, tol=0.0001,<br/>              validation_fraction=0.1, verbose=0, warm_start=False))]), </span><span id="f2fe" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('gradientboostingclassifier', GradientBoostingClassifier(criterion='friedman_mse', init=None,<br/>              learning_rate=0.5, loss='deviance', max_depth=2,<br/>              max_features=0.15000000000000002, max_leaf_nodes=None,<br/>              min_impurity_decrease=0.0, min_impurity_split=None,<br/>....9500000000000001, tol=0.0001,<br/>              validation_fraction=0.1, verbose=0, warm_start=False))]), </span><span id="3976" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('gradientboostingclassifier', GradientBoostingClassifier(criterion='friedman_mse', init=None,<br/>              learning_rate=0.5, loss='deviance', max_depth=2,<br/>              max_features=0.15000000000000002, max_leaf_nodes=None,<br/>              min_impurity_decrease=0.0, min_impurity_split=None,<br/>....9500000000000001, tol=0.0001,<br/>              validation_fraction=0.1, verbose=0, warm_start=False))])]</span></pre><p id="46a1" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ä¸‰æ¬¡éƒ½å‘ç°äº†ç›¸åŒçš„ç®¡é“ã€‚</p><p id="13fc" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æ³¨æ„ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¿­ä»£ä¹‹åï¼Œè¿è¡Œæ—¶é—´è¦å¿«å¾—å¤šã€‚TPOT ä¼¼ä¹ç¡®å®è®°å¾—å®ƒä»€ä¹ˆæ—¶å€™è§è¿‡ä¸€ä¸ªç®—æ³•ï¼Œå¹¶ä¸”ä¸ä¼šé‡æ–°è¿è¡Œå®ƒï¼Œå³ä½¿å®ƒæ˜¯ç¬¬äºŒæ¬¡æ‹Ÿåˆï¼Œå¹¶ä¸”ä½ å·²ç»è®¾ç½®äº† memory=Falseã€‚å¦‚æœè®¾ç½® verbosity=3ï¼Œå½“å®ƒæ‰¾åˆ°è¿™æ ·ä¸€ä¸ªä»¥å‰è¯„ä¼°è¿‡çš„ç®¡é“æ—¶ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹å†…å®¹:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="d0ca" class="mx lp iq mt b gy my mz l na nb">Pipeline encountered that has previously been evaluated during the optimization process. Using the score from the previous evaluation.</span></pre><h2 id="b225" class="mx lp iq bd lq ne nf dn lu ng nh dp ly kk ni nj mc ko nk nl mg ks nm nn mk no bi translated">è¿è¡Œæ—¶é—´æ›´é•¿ï¼Œç²¾ç¡®åº¦æ›´é«˜</h2><p id="712e" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">å¦‚æœåˆ¶é€ å¤§é‡ç®¡é“ï¼ŒTPOT æ€ä¹ˆåŠï¼Ÿè¦çœŸæ­£çœ‹åˆ° TPOT åœ¨ MNIST æ•°å­—ä»»åŠ¡ä¸­çš„å¨åŠ›ï¼Œä½ éœ€è¦è¿è¡Œ 500 å¤šæ¡ç®¡é“ã€‚å¦‚æœåœ¨ Kaggle ä¸Šè¿è¡Œï¼Œè¿™è‡³å°‘éœ€è¦ä¸€ä¸ªå°æ—¶ã€‚ç„¶åï¼Œæ‚¨å°†çœ‹åˆ°æ›´é«˜çš„å‡†ç¡®åº¦åˆ†æ•°ï¼Œå¹¶å¯èƒ½çœ‹åˆ°æ›´å¤æ‚çš„æ¨¡å‹ã€‚</p><p id="0a32" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¦‚æœä½ æœ‰å¤§é‡çš„ç®¡é“å’Œä¸€é¡¹é‡è¦çš„ä»»åŠ¡ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°ä¸€ä¸ªæœºå™¨å­¦ä¹ ç®—æ³•çš„è¾“å‡ºè¿›å…¥å¦ä¸€ä¸ªç®—æ³•çš„é“¾å¼æˆ–å †å å¼é›†åˆã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="9503" class="mx lp iq mt b gy my mz l na nb">0.9950861171999883</span><span id="f738" class="mx lp iq mt b gy nd mz l na nb">knn = KNeighborsClassifier(<br/>        DecisionTreeClassifier(<br/>            OneHotEncoder(input_matrix, OneHotEncoder__minimum_fraction=0.15, OneHotEncoder__sparse=False), <br/>            DecisionTreeClassifier__criterion=gini, <br/>            DecisionTreeClassifier__max_depth=5, <br/>            DecisionTreeClassifier__min_samples_leaf=20, <br/>            DecisionTreeClassifier__min_samples_split=17), <br/>         KNeighborsClassifier__n_neighbors=1, <br/>         KNeighborsClassifier__p=2, <br/>         KNeighborsClassifier__weights=distance)</span></pre><p id="379a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">åœ¨è¿è¡Œäº†ä¸€ä¸ªå¤šå°æ—¶å¹¶ç”Ÿæˆäº† 600 å¤šæ¡ç®¡é“åï¼Œè¿™æ˜¯ 0.995 çš„å¹³å‡å†…éƒ¨ CV å‡†ç¡®åº¦åˆ†æ•°ã€‚å†…æ ¸åœ¨å®Œæˆä¹‹å‰å´©æºƒäº†ï¼Œæ‰€ä»¥æˆ‘æ²¡æœ‰çœ‹åˆ°æµ‹è¯•é›†çš„åˆ†æ•°ï¼Œä¹Ÿæ²¡æœ‰å¾—åˆ°è¾“å‡ºçš„æ¨¡å‹ï¼Œä½†æ˜¯è¿™å¯¹ TPOT æ¥è¯´çœ‹èµ·æ¥å¾ˆæœ‰å¸Œæœ›ã€‚</p><p id="9fd0" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è¯¥ç®—æ³•ä½¿ç”¨å†³ç­–æ ‘åˆ†ç±»å™¨ï¼Œå°† TPOT å®šåˆ¶çš„ OneHotEncoder åˆ†ç±»ç¼–ç è¾“å…¥ KNeighborsClassifierã€‚</p><p id="3bd3" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è¿™æ˜¯ä¸€ä¸ªç±»ä¼¼çš„å†…éƒ¨åˆ†æ•°ï¼Œä¸åŒçš„ç®¡é“æ¥è‡ªäºè¿‘ 800 ä¸ªç®¡é“åçš„ä¸€ä¸ªä¸åŒçš„ random_stateã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="0e51" class="mx lp iq mt b gy my mz l na nb">0.9903723557310828 </span><span id="6b57" class="mx lp iq mt b gy nd mz l na nb">KNeighborsClassifier(Normalizer(OneHotEncoder(RandomForestClassifier(MinMaxScaler(input_matrix), RandomForestClassifier__bootstrap=True, RandomForestClassifier__criterion=entropy, RandomForestClassifier__max_features=0.55, RandomForestClassifier__min_samples_leaf=6, RandomForestClassifier__min_samples_split=15, RandomForestClassifier__n_estimators=100), OneHotEncoder__minimum_fraction=0.2, OneHotEncoder__sparse=False), Normalizer__norm=max), KNeighborsClassifier__n_neighbors=4, KNeighborsClassifier__p=2, KNeighborsClassifier__weights=distance)</span></pre><p id="f1c9" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOT å‘ç°äº†ä¸€ä¸ª KNN ç®¡é“ï¼Œä¸€ä¸ªçƒ­ç¼–ç ï¼Œè§„èŒƒåŒ–å’Œéšæœºæ£®æ—ã€‚èŠ±äº†ä¸¤ä¸ªåŠå°æ—¶ã€‚å‰ä¸€ä¸ªæ›´å¿«ï¼Œå¾—åˆ†æ›´é«˜ï¼Œä½†æœ‰æ—¶è¿™å°±æ˜¯ TPOT é—ä¼ æœç´¢ç®—æ³•çš„éšæœºæ€§è´¨ã€‚ğŸ˜‰</p><h2 id="4862" class="mx lp iq bd lq ne nf dn lu ng nh dp ly kk ni nj mc ko nk nl mg ks nm nn mk no bi translated">MNIST æ•°å­—åˆ†ç±»ä»»åŠ¡çš„è¦ç‚¹</h2><ol class=""><li id="f8d4" class="nt nu iq kb b kc mn kg mo kk nv ko nw ks nx kw ny nz oa ob bi translated">å¦‚æœä½ ç»™å®ƒè¶³å¤Ÿçš„æ—¶é—´ï¼ŒTPOT å¯ä»¥å¾ˆå¥½åœ°å®Œæˆè¿™ä¸ªå›¾åƒè¯†åˆ«ä»»åŠ¡ã€‚</li><li id="b507" class="nt nu iq kb b kc oc kg od kk oe ko of ks og kw ny nz oa ob bi translated">TPOT ç®¡é“è¶Šå¤šè¶Šå¥½ã€‚</li><li id="e615" class="nt nu iq kb b kc oc kg od kk oe ko of ks og kw ny nz oa ob bi translated">å¦‚æœä½ éœ€è¦ä»»åŠ¡çš„å†ç°æ€§ï¼ŒTPOT ä¸æ˜¯ä½ æƒ³è¦çš„å·¥å…·ã€‚</li></ol><h1 id="1379" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">æ•°æ®é›† 2:è˜‘è‡åˆ†ç±»</h1><p id="f878" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">å¯¹äºç¬¬äºŒä¸ªæ•°æ®é›†ï¼Œæˆ‘é€‰æ‹©äº†æµè¡Œçš„<a class="ae jy" href="https://www.kaggle.com/mokosan/mushroom-classification/data" rel="noopener ugc nofollow" target="_blank">è˜‘è‡åˆ†ç±»ä»»åŠ¡ã€‚</a>ç›®æ ‡æ˜¯æ ¹æ®æ ‡ç­¾æ­£ç¡®ç¡®å®šè˜‘è‡æ˜¯å¦æœ‰æ¯’ã€‚è¿™ä¸æ˜¯å›¾åƒåˆ†ç±»ä»»åŠ¡ã€‚å®ƒè¢«è®¾ç½®ä¸ºä¸€ä¸ªäºŒå…ƒä»»åŠ¡ï¼Œè¿™æ ·æ‰€æœ‰æ½œåœ¨å±é™©çš„è˜‘è‡è¢«å½’ä¸ºä¸€ç±»ï¼Œè€Œå®‰å…¨é£Ÿç”¨è˜‘è‡åˆ™å½’ä¸ºå¦ä¸€ç±»ã€‚</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi oh"><img src="../Images/eb93bed5ba407c0d2834df387ad697a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IifgV9ZEX02IPaXZJ5y-zg.jpeg"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">Yummy or deadly? Ask TPOT.</figcaption></figure><p id="9f07" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æˆ‘çš„ä»£ç å¯ä»¥åœ¨<a class="ae jy" href="https://www.kaggle.com/discdiver/tpot-mushroom-classification-task/" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª Kaggle å†…æ ¸</a>ä¸Šè·å¾—ã€‚</p><p id="34c0" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOT é€šå¸¸å¯ä»¥åœ¨è¿™ä¸ªæ•°æ®é›†ä¸Šå¿«é€Ÿæ‹Ÿåˆå‡ºä¸€ä¸ªå®Œç¾çš„æ¨¡å‹ã€‚å®ƒåœ¨ä¸¤åˆ†é’Ÿä¹‹å†…å°±å®Œæˆäº†ã€‚è¿™æ¯”æˆ‘åœ¨æ²¡æœ‰ TPOT çš„æƒ…å†µä¸‹ä½¿ç”¨è®¸å¤š scikit-learn åˆ†ç±»ç®—æ³•ã€å„ç§åä¹‰æ•°æ®ç¼–ç å’Œæ— å‚æ•°è°ƒæ•´æµ‹è¯•è¯¥æ•°æ®é›†æ—¶çš„æ€§èƒ½å’Œé€Ÿåº¦å¥½å¾—å¤šã€‚</p><p id="a558" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">åœ¨ä½¿ç”¨ç›¸åŒçš„ TPOTClassifier å®ä¾‹å’Œç›¸åŒçš„éšæœºçŠ¶æ€é›†çš„ä¸‰æ¬¡è¿è¡Œä¸­ï¼ŒTPOT å‘ç°äº†ä»¥ä¸‹æƒ…å†µ:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="54ba" class="mx lp iq mt b gy my mz l na nb">Times: [1.854785452616731, 1.5694829618000463, 1.3383520993001488]<br/>Scores: [1.0, 1.0, 1.0]</span></pre><p id="d949" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æœ‰è¶£çš„æ˜¯ï¼Œå®ƒæ¯æ¬¡éƒ½æ‰¾åˆ°ä¸åŒçš„æœ€ä½³ç®—æ³•ã€‚å®ƒæ‰¾åˆ°äº† DecisionTreeClassifierï¼Œç„¶åæ˜¯ KNeighorsClassifierï¼Œç„¶åæ˜¯å¸¦æœ‰ BernoulliNB çš„å †å  RandomForestClassifierã€‚</p><p id="9c0b" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è®©æˆ‘ä»¬æ›´æ·±å…¥åœ°æ¢è®¨ä¸€ä¸‹å¯å†ç°æ€§ã€‚è®©æˆ‘ä»¬ç”¨å®Œå…¨ç›¸åŒçš„è®¾ç½®å†è¿è¡Œä¸€æ¬¡ã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="713e" class="mx lp iq mt b gy my mz l na nb">Times: [1.8664863013502326, 1.5520636909670429, 1.3386059726501116]<br/>Scores: [1.0, 1.0, 1.0]</span></pre><p id="ac95" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æˆ‘ä»¬çœ‹åˆ°åŒä¸€ç»„ä¸‰ä¸ªç®¡é“ï¼Œéå¸¸ç›¸ä¼¼çš„æ—¶é—´ï¼Œæµ‹è¯•é›†ä¸Šç›¸åŒçš„åˆ†æ•°ã€‚</p><p id="89e2" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ç°åœ¨è®©æˆ‘ä»¬è¯•ç€å°†è¿™ä¸ªå•å…ƒåˆ†æˆå¤šä¸ªä¸åŒçš„å•å…ƒï¼Œå¹¶åœ¨æ¯ä¸ªå•å…ƒä¸­å®ä¾‹åŒ–ä¸€ä¸ª TPOT å®ä¾‹ã€‚ä»£ç å¦‚ä¸‹:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="bfd1" class="mx lp iq mt b gy my mz l na nb">X_train, X_test, y_train, y_test = train_test_split(X, y, train_size=0.75, test_size=0.25, random_state=25)</span><span id="c887" class="mx lp iq mt b gy nd mz l na nb">tpot = TPOTClassifier(<br/>  verbosity=3, <br/>  scoring=â€accuracyâ€, <br/>  random_state=25, <br/>  periodic_checkpoint_folder=â€tpot_mushroom_results.txtâ€, <br/>  n_jobs=-1, <br/>  generations=5, <br/>  population_size=10,<br/>  early_stop = 5<br/>)</span></pre><p id="18f1" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ç¬¬äºŒæ¬¡è¿è¡Œçš„ç»“æœç°åœ¨ä¸ç¬¬ä¸€æ¬¡è¿è¡Œçš„ç»“æœç›¸åŒ¹é…ï¼Œå¹¶ä¸”èŠ±è´¹äº†å‡ ä¹ç›¸åŒçš„æ—¶é—´(åˆ†æ•°= 1.0ï¼Œæ—¶é—´= 1.9 åˆ†é’Ÿï¼Œç®¡é“=å†³ç­–æ ‘åˆ†ç±»å™¨)ã€‚æ›´é«˜å†ç°æ€§çš„å…³é”®æ˜¯æˆ‘ä»¬åœ¨æ¯ä¸ªå•å…ƒä¸­å®ä¾‹åŒ– TPOT åˆ†ç±»å™¨çš„ä¸€ä¸ªæ–°å®ä¾‹ã€‚</p><p id="5357" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ä¸‹é¢æ˜¯ 10 ç»„ 30 ä¸ªæµæ°´çº¿çš„æ—¶é—´ç»“æœï¼Œå…¶ä¸­éšæœºçŠ¶æ€åœ¨è®­ç»ƒæµ‹è¯•åˆ†å‰²ä¸Šï¼ŒTPOT è®¾ç½®ä¸º 10ã€‚æ‰€æœ‰ç®¡é“æ­£ç¡®åœ°å¯¹æµ‹è¯•é›†ä¸Šçš„æ‰€æœ‰è˜‘è‡è¿›è¡Œäº†åˆ†ç±»ã€‚TPOT åœ¨è¿™é¡¹ç®€å•æ˜“å­¦çš„ä»»åŠ¡ä¸Šé€Ÿåº¦å¾ˆå¿«ã€‚</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/a248f2da0492ab4e5f0e33baf06e98e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*ox3f9mTLTPKaF67yJLTL4Q.png"/></div></figure><h1 id="d7a2" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">è˜‘è‡ä»»åŠ¡çš„æ”¶è·</h1><p id="8102" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">å¯¹äºè¿™ä¸ªåŸºæœ¬çš„åˆ†ç±»ä»»åŠ¡ï¼ŒTPOT è¡¨ç°å¾—åˆå¥½åˆå¿«ã€‚</p><p id="cc8a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ä½œä¸ºæ¯”è¾ƒï¼Œ<a class="ae jy" href="https://www.kaggle.com/mokosan/mushroom-classification/notebook" rel="noopener ugc nofollow" target="_blank">R ä¸­è˜‘è‡é›†ä¸Šçš„è¿™ä¸ª Kaggle å†…æ ¸</a>éå¸¸å¥½ï¼Œæ¢ç´¢äº†å„ç§ç®—æ³•ï¼Œéå¸¸æ¥è¿‘å®Œç¾çš„ç²¾åº¦ã€‚ä½†æ˜¯ï¼Œå®ƒå¹¶æ²¡æœ‰å®Œå…¨è¾¾åˆ° 100%,ä¸æˆ‘ä»¬å®æ–½ TPOT ç›¸æ¯”ï¼Œå®ƒç¡®å®èŠ±è´¹äº†æ›´å¤šçš„å‡†å¤‡å’ŒåŸ¹è®­æ—¶é—´ã€‚</p><p id="8dfb" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æˆ‘å¼ºçƒˆè®¤ä¸º TPOT å¯ä»¥ä¸ºå°†æ¥è¿™æ ·çš„ä»»åŠ¡èŠ‚çœæ—¶é—´ï¼Œè‡³å°‘ä½œä¸ºç¬¬ä¸€æ­¥ã€‚</p><h1 id="5303" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">æ•°æ®é›† 3:åŸƒå§†æ–¯ä½å®…é¢„æµ‹</h1><p id="9792" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è½¬å‘å›å½’ä»»åŠ¡ï¼Œçœ‹çœ‹ TPOT çš„è¡¨ç°ã€‚æˆ‘ä»¬å°†ä½¿ç”¨æµè¡Œçš„<a class="ae jy" href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques" rel="noopener ugc nofollow" target="_blank">çˆ±è·åå·è‰¾å§†æ–¯æˆ¿ä»·é¢„æµ‹æ•°æ®é›†</a>æ¥é¢„æµ‹æˆ¿äº§é”€å”®ä»·å€¼ã€‚æˆ‘çš„ä»£ç å¯ä»¥åœ¨<a class="ae jy" href="https://www.kaggle.com/discdiver/tpot-on-ames-housing-regression/" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª Kaggle å†…æ ¸</a>ä¸Šè·å¾—ã€‚</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi oj"><img src="../Images/53390d3938504400591d2e6e31bf372b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*US5XGt86xaf0qlEFhQMcpA.jpeg"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">This house could be in Ames, Iowa, right?</figcaption></figure><p id="baaa" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¯¹äºè¿™ä¸ªä»»åŠ¡ï¼Œæˆ‘é¦–å…ˆåšäº†ä¸€äº›åŸºæœ¬çš„ç¼ºå¤±å€¼æ’è¡¥ã€‚æˆ‘ç”¨è¯¥åˆ—ä¸­æœ€å¸¸è§çš„å€¼æ¥å¡«å……ç¼ºå¤±çš„æ•°å­—åˆ—å€¼ï¼Œå› ä¸ºå…¶ä¸­ä¸€äº›åˆ—åŒ…å«åºå·æ•°æ®ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘ä¼šå¯¹åˆ—è¿›è¡Œåˆ†ç±»ï¼Œå¹¶æ ¹æ®åŒºé—´ã€åºæ•°æˆ–åä¹‰æ•°æ®ç±»å‹ä½¿ç”¨ä¸åŒçš„æ’è¡¥ç­–ç•¥ã€‚</p><p id="2d52" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">åœ¨é¡ºåºç¼–ç ä¹‹å‰ï¼Œå­—ç¬¦ä¸²åˆ—ç¼ºå¤±å€¼ç”¨â€œç¼ºå¤±â€æ ‡ç­¾å¡«å……ï¼Œå› ä¸ºå¹¶éæ‰€æœ‰åˆ—éƒ½æœ‰æœ€å¸¸è§çš„å€¼ã€‚TPOT çš„ one hot ç¼–ç ç®—æ³•å°†ä¸ºæ¯ä¸ªç‰¹å¾å¢åŠ ä¸€ä¸ªç»´åº¦ï¼Œè¿™å°†è¡¨æ˜è¯¥æ•°æ®ç¼ºå°‘è¯¥ç‰¹å¾çš„å€¼ã€‚</p><p id="a6ed" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">TPOTRegressor é»˜è®¤ä½¿ç”¨å‡æ–¹è¯¯å·®è¯„åˆ†ã€‚</p><p id="f0a3" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è¿™é‡Œæœ‰ä¸€ä¸ªåªæœ‰ 60 æ¡ç®¡é“çš„è¿è¡Œã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="61f6" class="mx lp iq mt b gy my mz l na nb">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = .25, random_state = 33)</span><span id="1ad6" class="mx lp iq mt b gy nd mz l na nb"># instantiate tpot <br/>tpot = TPOTRegressor(verbosity=3,  <br/>                      random_state=25, <br/>                      n_jobs=-1, <br/>                      generations=5, <br/>                      population_size=10,<br/>                      early_stop = 5,<br/>                      memory = None)<br/>times = []<br/>scores = []<br/>winning_pipes = []</span><span id="7de2" class="mx lp iq mt b gy nd mz l na nb"># run 3 iterations<br/>for x in range(3):<br/>    start_time = timeit.default_timer()<br/>    tpot.fit(X_train, y_train)<br/>    elapsed = timeit.default_timer() - start_time<br/>    times.append(elapsed)<br/>    winning_pipes.append(tpot.fitted_pipeline_)<br/>    scores.append(tpot.score(X_test, y_test))<br/>    tpot.export('tpot_ames.py')</span><span id="429c" class="mx lp iq mt b gy nd mz l na nb"># output results<br/>times = [time/60 for time in times]<br/>print('Times:', times)<br/>print('Scores:', scores)   <br/>print('Winning pipelines:', winning_pipes)</span></pre><p id="5492" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è¿™ä¸‰æ¬¡å°è¯•çš„ç»“æœã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="8cfa" class="mx lp iq mt b gy my mz l na nb">Times: [3.8920086714831994, 1.4063017464330188, 1.2469199204002508]<br/>Scores: [-905092886.3009057, -922269561.2683483, -949881926.6436856]<br/>Winning pipelines: [</span><span id="9815" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('zerocount', ZeroCount()), ('xgbregressor', XGBRegressor(base_score=0.5, booster='gbtree', colsample_bylevel=1,<br/>       colsample_bytree=1, gamma=0, learning_rate=0.1, max_delta_step=0,<br/>       max_depth=9, min_child_weight=18, missing=None, n_estimators=100,<br/>       n_jobs=1, nthread=1, objective='reg:linear', random_state=0,<br/>       reg_alpha=0, reg_lambda=1, scale_pos_weight=1, seed=None,<br/>       silent=True, subsample=0.5))]), </span><span id="f0ea" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('xgbregressor', XGBRegressor(base_score=0.5, booster='gbtree', colsample_bylevel=1,<br/>       colsample_bytree=1, gamma=0, learning_rate=0.1, max_delta_step=0,<br/>       max_depth=9, min_child_weight=11, missing=None, n_estimators=100,<br/>       n_jobs=1, nthread=1, objective='reg:linear', random_state=0,<br/>       reg_alpha=0, reg_lambda=1, scale_pos_weight=1, seed=None,<br/>       silent=True, subsample=0.5))]), </span><span id="06ee" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('stackingestimator', StackingEstimator(estimator=RidgeCV(alphas=array([ 0.1,  1. , 10. ]), cv=None, fit_intercept=True,<br/>    gcv_mode=None, normalize=False, scoring=None, store_cv_values=False))), ('maxabsscaler-1', MaxAbsScaler(copy=True)), ('maxabsscaler-2', MaxAbsScaler(copy=True)), ('xgbr...      reg_alpha=0, reg_lambda=1, scale_pos_weight=1, seed=None,<br/>       silent=True, subsample=0.5))])]</span></pre><p id="10fb" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è¿è¡Œå¾ˆå¿«å®Œæˆï¼Œæ¯æ¬¡éƒ½æ‰¾åˆ°ä¸åŒçš„è·èƒœç®¡é“ã€‚å–åˆ†æ•°çš„å¹³æ–¹æ ¹å¾—åˆ°å‡æ–¹æ ¹è¯¯å·®(RMSE)ã€‚RMSE çš„å¹³å‡ä»·æ ¼åœ¨ 3 ä¸‡ç¾å…ƒå·¦å³ã€‚</p><p id="2739" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¯¹äº train_test_split å’Œ TPOTRegressorï¼Œå°è¯•ä½¿ç”¨ 60 ä¸ªç®¡é“å’Œ random_state = 20ã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="aff0" class="mx lp iq mt b gy my mz l na nb">Times: [9.691357856966594, 1.8972856383004304, 2.5272325469001466]<br/>Scores: [-1061075530.3715296, -695536167.1288683, -783733389.9523941]</span><span id="7c0d" class="mx lp iq mt b gy nd mz l na nb">Winning pipelines: [</span><span id="92e8" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('stackingestimator-1', StackingEstimator(estimator=RandomForestRegressor(bootstrap=True, criterion='mse', max_depth=None,<br/>           max_features=0.7000000000000001, max_leaf_nodes=None,<br/>           min_impurity_decrease=0.0, min_impurity_split=None,<br/>           min_samples_leaf=12, min_sample...0.6000000000000001, tol=0.0001,<br/>             validation_fraction=0.1, verbose=0, warm_start=False))]), </span><span id="a0c8" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('xgbregressor', XGBRegressor(base_score=0.5, booster='gbtree', colsample_bylevel=1,<br/>       colsample_bytree=1, gamma=0, learning_rate=0.1, max_delta_step=0,<br/>       max_depth=7, min_child_weight=3, missing=None, n_estimators=100,<br/>       n_jobs=1, nthread=1, objective='reg:linear', random_state=0,<br/>       reg_alpha=0, reg_lambda=1, scale_pos_weight=1, seed=None,<br/>       silent=True, subsample=1.0))]), </span><span id="ab79" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('stackingestimator', StackingEstimator(estimator=RandomForestRegressor(bootstrap=True, criterion='mse', max_depth=None,<br/>           max_features=0.7000000000000001, max_leaf_nodes=None,<br/>           min_impurity_decrease=0.0, min_impurity_split=None,<br/>           min_samples_leaf=12, min_samples_...ators=100, n_jobs=None,<br/>          oob_score=False, random_state=None, verbose=0, warm_start=False))])]</span></pre><p id="6f84" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¯¼è‡´äº†æˆªç„¶ä¸åŒçš„ç®¡é“å’Œåˆ†æ•°ã€‚</p><p id="45bb" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">è®©æˆ‘ä»¬ç”¨ 720 æ¡ç®¡é“è¯•ä¸€æ¬¡æ›´é•¿çš„è¿è¡Œ</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="ab76" class="mx lp iq mt b gy my mz l na nb">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = .25, random_state = 20)</span><span id="0b5f" class="mx lp iq mt b gy nd mz l na nb">tpot = TPOTRegressor(verbosity=3, <br/> random_state=10, <br/> #scoring=rmsle,<br/> periodic_checkpoint_folder=â€any_stringâ€,<br/> n_jobs=-1, <br/> generations=8, <br/> population_size=80,<br/> early_stop=5)</span></pre><p id="6152" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ç»“æœ:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="8e5d" class="mx lp iq mt b gy my mz l na nb">Times: [43.206709423016584]<br/>Scores: [-644910660.5815958] <br/>Winning pipelines: [Pipeline(memory=None,<br/>     steps=[('xgbregressor', XGBRegressor(base_score=0.5, booster='gbtree', colsample_bylevel=1,<br/>       colsample_bytree=1, gamma=0, learning_rate=0.1, max_delta_step=0,<br/>       max_depth=8, min_child_weight=3, missing=None, n_estimators=100,<br/>       n_jobs=1, nthread=1, objective='reg:linear', random_state=0,<br/>       reg_alpha=0, reg_lambda=1, scale_pos_weight=1, seed=None,<br/>       silent=True, subsample=0.8500000000000001))])]</span></pre><p id="0f4e" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">RMSE æ˜¯è¿„ä»Šä¸ºæ­¢æœ€å¥½çš„ã€‚æ”¶æ•›èŠ±äº†å¤§åŠä¸ªå°æ—¶ï¼Œæˆ‘ä»¬ä»ç„¶åœ¨è¿è¡Œæ¯”æ¨èçš„å°å¾—å¤šçš„ç®¡é“ã€‚ğŸ¤”</p><p id="c378" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å°è¯•ä½¿ç”¨å‡æ–¹æ ¹å¯¹æ•°è¯¯å·®ï¼Œè¿™æ˜¯ Kaggle åœ¨æœ¬æ¬¡æ¯”èµ›ä¸­ä½¿ç”¨çš„è‡ªå®šä¹‰è¯„åˆ†å‚æ•°ã€‚è¿™æ˜¯åœ¨å¦ä¸€ä¸ªéå¸¸å°çš„è¿­ä»£ä¸­è¿è¡Œçš„ï¼Œ30 ä¸ªç®¡é“åˆ†ä¸‰æ¬¡è¿è¡Œï¼Œrandom_state=20ã€‚æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ä¸€ä¸ªä»¥ä¸Šçš„ CPU æ ¸å¿ƒï¼Œå› ä¸ºåœ¨ Jupyter çš„ä¸€äº› TPOT ç®—æ³•ä¸­æœ‰ä¸€ä¸ªè‡ªå®šä¹‰è¯„åˆ†å‚æ•°çš„é”™è¯¯ã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="7800" class="mx lp iq mt b gy my mz l na nb">Times: [1.6125734224997965, 1.2910610851162345, 0.9708147236000514]<br/>Scores: [-0.15007242511943228, -0.14164770517342357, -0.15506057088945932]<br/>Winning pipelines: [</span><span id="d154" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('maxabsscaler', MaxAbsScaler(copy=True)), ('stackingestimator', StackingEstimator(estimator=RandomForestRegressor(bootstrap=True, criterion='mse', max_depth=None,<br/>           max_features=0.7000000000000001, max_leaf_nodes=None,<br/>           min_impurity_decrease=0.0, min_impurity_split=None,<br/> ...0.6000000000000001, tol=0.0001,<br/>             validation_fraction=0.1, verbose=0, warm_start=False))]), </span><span id="4641" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('extratreesregressor', ExtraTreesRegressor(bootstrap=False, criterion='mse', max_depth=None,<br/>          max_features=0.6500000000000001, max_leaf_nodes=None,<br/>          min_impurity_decrease=0.0, min_impurity_split=None,<br/>          min_samples_leaf=7, min_samples_split=10,<br/>          min_weight_fraction_leaf=0.0, n_estimators=100, n_jobs=None,<br/>          oob_score=False, random_state=None, verbose=0, warm_start=False))]), </span><span id="e103" class="mx lp iq mt b gy nd mz l na nb">Pipeline(memory=None,<br/>     steps=[('ridgecv', RidgeCV(alphas=array([ 0.1,  1. , 10. ]), cv=None, fit_intercept=True,<br/>    gcv_mode=None, normalize=False, scoring=None, store_cv_values=False))])]</span></pre><p id="024f" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">é‚£äº›åˆ†æ•°å¹¶ä¸å¯æ€•ã€‚è¿™ä¸ªå°è¿è¡Œçš„ tpot.export çš„è¾“å‡ºæ–‡ä»¶å¦‚ä¸‹ã€‚</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="3080" class="mx lp iq mt b gy my mz l na nb">import numpy as np <br/>import pandas as pd <br/>from sklearn.linear_model import ElasticNetCV, LassoLarsCV <br/>from sklearn.model_selection import train_test_split from sklearn.pipeline import make_pipeline, make_union <br/>from tpot.builtins import StackingEstimator  </span><span id="8dcc" class="mx lp iq mt b gy nd mz l na nb"># NOTE: Make sure that the class is labeled 'target' in the data file <br/>tpot_data = pd.read_csv('PATH/TO/DATA/FILE', sep='COLUMN_SEPARATOR', dtype=np.float64) </span><span id="795a" class="mx lp iq mt b gy nd mz l na nb">features = tpot_data.drop('target', axis=1).values </span><span id="f054" class="mx lp iq mt b gy nd mz l na nb">training_features, testing_features, training_target, testing_target = train_test_split(features, tpot_data['target'].values, random_state=42)  </span><span id="4587" class="mx lp iq mt b gy nd mz l na nb"># Score on the training set was:-0.169929041242275 </span><span id="2d8f" class="mx lp iq mt b gy nd mz l na nb">exported_pipeline = make_pipeline(     StackingEstimator(estimator=LassoLarsCV(normalize=False)),     ElasticNetCV(l1_ratio=0.75, tol=0.01) </span><span id="a199" class="mx lp iq mt b gy nd mz l na nb">exported_pipeline.fit(training_features, training_target) </span><span id="c067" class="mx lp iq mt b gy nd mz l na nb">results = exported_pipeline.predict(testing_features)</span></pre><p id="8ca6" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å°†æ¥ï¼Œæˆ‘æƒ³åœ¨è¿™ä¸ªæ•°æ®é›†ä¸Šå¯¹ TPOT åšä¸€äº›æ›´é•¿æ—¶é—´çš„è¿è¡Œï¼Œçœ‹çœ‹å®ƒçš„è¡¨ç°å¦‚ä½•ã€‚æˆ‘è¿˜æƒ³çœ‹çœ‹ä¸€äº›æ‰‹åŠ¨ç‰¹å¾å·¥ç¨‹å’Œå„ç§ç¼–ç ç­–ç•¥å¦‚ä½•æé«˜æˆ‘ä»¬çš„æ¨¡å‹æ€§èƒ½ã€‚</p><h1 id="ba72" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">æŠ“åˆ° TPOT å’Œå¡æ ¼å°”äº†</h1><p id="34a2" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">æˆ‘å–œæ¬¢ Kaggle çš„å†…æ ¸ï¼Œä½†å¦‚æœä½ æƒ³è¿è¡Œå‡ ä¸ªå°æ—¶çš„ç®—æ³•ï¼Œå¦‚ TPOTï¼Œè¿™å¯èƒ½ä¼šè¶…çº§ä»¤äººæ²®ä¸§ã€‚å†…æ ¸åœ¨è¿è¡Œæ—¶ç»å¸¸å´©æºƒï¼Œä½ æœ‰æ—¶æ— æ³•åˆ¤æ–­ä½ å°è¯•çš„æäº¤æ˜¯å¦è¢«æŒ‚èµ·ï¼Œå¹¶ä¸”ä½ ä¸èƒ½åƒä½ å¸Œæœ›çš„é‚£æ ·æ§åˆ¶ä½ çš„ç¯å¢ƒã€‚</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ok"><img src="../Images/df7f1d251b9da93b2f8848a37792ec59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ja80FanFt0zx4_zvYq9qlw.jpeg"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">Wall for banging head</figcaption></figure><p id="9858" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æ²¡æœ‰ä»€ä¹ˆæ¯” 720 æ¬¡ç®¡é“è¿­ä»£ä¸­çš„ 700 æ¬¡æ›´å¥½çš„äº†ã€‚æˆ‘çš„ Kaggle CPU åˆ©ç”¨ç‡ç»å¸¸æ˜¾ç¤ºä¸º 400%+å¹¶ä¸”åœ¨è¿™ä¸ªç»ƒä¹ ä¸­éœ€è¦å¤šæ¬¡é‡å¯ã€‚</p><p id="c676" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å…¶ä»–ä¸€äº›éœ€è¦æ³¨æ„çš„äº‹é¡¹:</p><ul class=""><li id="54ae" class="nt nu iq kb b kc kd kg kh kk ol ko om ks on kw oo nz oa ob bi translated">æˆ‘å‘ç°æˆ‘éœ€è¦å°†æˆ‘çš„ Pandas æ•°æ®å¸§è½¬æ¢æˆ Numpy æ•°ç»„ï¼Œä»¥é¿å…å›å½’ä»»åŠ¡ä¸­çš„ XGBoost é—®é¢˜ã€‚è¿™æ˜¯ç†ŠçŒ«å’Œ XGBoost çš„ä¸€ä¸ªå·²çŸ¥é—®é¢˜ã€‚</li><li id="cb9e" class="nt nu iq kb b kc oc kg od kk oe ko of ks og kw oo nz oa ob bi translated">ä¸€ä¸ª Kaggle å†…æ ¸æ­£åœ¨è¿è¡Œä¸€ä¸ª Jupyter ç¬”è®°æœ¬ã€‚å½“ Jupyter ç¬”è®°æœ¬ä¸­çš„ n _ jobs &gt; 1 æ—¶ï¼ŒTPOT çš„è‡ªå®šä¹‰è¯„åˆ†åˆ†ç±»å™¨ä¸èµ·ä½œç”¨ã€‚è¿™æ˜¯ä¸€ä¸ªå·²çŸ¥çš„<a class="ae jy" href="https://github.com/EpistasisLab/tpot/issues/645" rel="noopener ugc nofollow" target="_blank">é—®é¢˜</a>ã€‚</li><li id="2ab0" class="nt nu iq kb b kc oc kg od kk oe ko of ks og kw oo nz oa ob bi translated">å½“ä½ æäº¤ä»£ç æ—¶ï¼ŒKaggle åªä¼šè®©ä½ çš„å†…æ ¸ä»£ç å†™åˆ°ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ã€‚ä½ çœ‹ä¸åˆ° TPOT æäº¤æ—¶çš„ä¸´æ—¶è¾“å‡ºã€‚ç¡®ä¿æ–‡ä»¶åç”¨å¼•å·æ‹¬èµ·æ¥ï¼Œä¸è¦ç”¨æ–œçº¿ã€‚è¯¥æ–‡ä»¶å°†æ˜¾ç¤ºåœ¨ O <em class="la">è¾“å‡º</em>é€‰é¡¹å¡ä¸Šã€‚</li><li id="cd85" class="nt nu iq kb b kc oc kg od kk oe ko of ks og kw oo nz oa ob bi translated">åœ¨ Kaggle ä¸Šæ‰“å¼€ GPU è®¾ç½®å¹¶ä¸èƒ½åŠ å¿«å¤§å¤šæ•°åˆ†æçš„é€Ÿåº¦ï¼Œä½†å¯èƒ½ä¼šåŠ å¿«æ·±åº¦å­¦ä¹ çš„é€Ÿåº¦ã€‚</li><li id="ef07" class="nt nu iq kb b kc oc kg od kk oe ko of ks og kw oo nz oa ob bi translated">ka ggle 6 å°æ—¶çš„å¯èƒ½è¿è¡Œæ—¶é—´å’Œ GPU è®¾ç½®ä½¿å¾—åœ¨éå¤§å‹æ•°æ®é›†ä¸Šæ— éœ€é…ç½®å³å¯å…è´¹å®éªŒ TPOT æˆä¸ºå¯èƒ½ã€‚å¾ˆéš¾æ‹’ç»å…è´¹çš„ã€‚</li></ul><p id="8436" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">ä¸ºäº†æ›´å¤šçš„æ—¶é—´å’Œé€Ÿåº¦ï¼Œä½ å¯ä»¥ä½¿ç”¨ç±»ä¼¼äº<a class="ae jy" href="https://www.paperspace.com/" rel="noopener ugc nofollow" target="_blank"> Paperspace </a>çš„ä¸œè¥¿ã€‚æˆ‘åœ¨ Paperspace ä¸Šå»ºç«‹äº† TPOTï¼Œè™½ç„¶ä¸æ˜¯å…è´¹çš„ï¼Œä½†ä¹Ÿå¾ˆè½»æ¾ã€‚å¦‚æœä½ éœ€è¦ä¸€ä¸ªäº‘è§£å†³æ–¹æ¡ˆæ¥è¿è¡Œ TPOTï¼Œæˆ‘å»ºè®®ä½ å…ˆåœ¨ Kaggle ä¸Šä½¿ç”¨å®ƒï¼Œå¦‚æœä½ éœ€è¦å‡ ä¸ªå°æ—¶ä»¥ä¸Šçš„è¿è¡Œæ—¶é—´æˆ–æ›´é«˜çš„åŠŸç‡ï¼Œå°±ç¦»å¼€ Kaggleã€‚</p><h1 id="9892" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">æœªæ¥æ–¹å‘</h1><p id="e91d" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">TPOT å’Œ autoML æœ‰å¾ˆå¤šæœ‰è¶£çš„æ–¹å‘å¯ä»¥æ¢ç´¢ã€‚æˆ‘æƒ³å°† TPOT ä¸ autoSKlearnã€MLBoxã€Auto-Keras å’Œå…¶ä»–å…¬å¸è¿›è¡Œæ¯”è¾ƒã€‚æˆ‘è¿˜æƒ³çœ‹çœ‹å®ƒåœ¨å¤„ç†æ›´å¤šç§ç±»çš„æ•°æ®ã€å…¶ä»–æ’è¡¥ç­–ç•¥å’Œå…¶ä»–ç¼–ç ç­–ç•¥æ—¶çš„è¡¨ç°ã€‚ä¸ LightGBMã€CatBoost å’Œæ·±åº¦å­¦ä¹ ç®—æ³•çš„æ¯”è¾ƒä¹Ÿå°†æ˜¯æœ‰è¶£çš„ã€‚æœºå™¨å­¦ä¹ çš„è¿™ä¸ªæ—¶åˆ»ä»¤äººå…´å¥‹çš„æ˜¯ï¼Œæœ‰è¿™ä¹ˆå¤šé¢†åŸŸå¯ä»¥æ¢ç´¢ã€‚å…³æ³¨<a class="ae jy" href="https://medium.com/@jeffhale" rel="noopener"> me </a>ç¡®ä¿ä¸ä¼šé”™è¿‡æœªæ¥çš„åˆ†æã€‚</p><p id="4fef" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¯¹äºå¤§å¤šæ•°æ•°æ®é›†æ¥è¯´ï¼Œä»ç„¶æœ‰å¤§é‡çš„æ•°æ®æ¸…ç†ã€ç‰¹å¾å·¥ç¨‹å’Œæœ€ç»ˆæ¨¡å‹é€‰æ‹©è¦åšâ€”â€”æ›´ä¸ç”¨è¯´é¢„å…ˆæå‡ºæ­£ç¡®é—®é¢˜è¿™ä¸€æœ€é‡è¦çš„æ­¥éª¤ã€‚é‚£ä¹ˆä½ å¯èƒ½éœ€è¦ç”Ÿäº§ä½ çš„æ¨¡å‹ã€‚TPOT è¿˜æ²¡æœ‰è¿›è¡Œå½»åº•çš„æœç´¢ã€‚æ‰€ä»¥ TPOT ä¸ä¼šå–ä»£æ•°æ®ç§‘å­¦å®¶çš„è§’è‰²â€”â€”ä½†è¿™ä¸ªå·¥å…·å¯èƒ½ä¼šè®©ä½ æœ€ç»ˆçš„æœºå™¨å­¦ä¹ ç®—æ³•æ›´å¥½æ›´å¿«ã€‚</p><p id="e5af" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">å¦‚æœä½ ä½¿ç”¨è¿‡ TPOT æˆ–å…¶ä»– autoML å·¥å…·ï¼Œè¯·åœ¨è¯„è®ºä¸­åˆ†äº«ä½ çš„ç»éªŒã€‚</p><p id="4b1b" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æˆ‘å¸Œæœ›è¿™ç¯‡ä»‹ç» TPOT çš„æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚å¦‚æœä½ æœ‰ï¼Œè¯·åœ¨ä½ æœ€å–œæ¬¢çš„ç¤¾äº¤åª’ä½“ä¸Šåˆ†äº«ï¼Œè¿™æ ·å…¶ä»–äººä¹Ÿå¯ä»¥æ‰¾åˆ°å®ƒã€‚ğŸ˜€</p><p id="bb33" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æˆ‘å†™å…³äº<a class="ae jy" href="https://memorablepython.com" rel="noopener ugc nofollow" target="_blank"> Python </a>ã€<a class="ae jy" href="https://memorablesql.com" rel="noopener ugc nofollow" target="_blank"> SQL </a>å’Œå…¶ä»–æŠ€æœ¯ä¸»é¢˜çš„æ–‡ç« ã€‚å¦‚æœä½ å¯¹è¿™äº›æ„Ÿå…´è¶£ï¼Œè¯·æ³¨å†Œæˆ‘çš„<a class="ae jy" href="https://dataawesome.com" rel="noopener ugc nofollow" target="_blank">é‚®ä»¶åˆ—è¡¨ï¼Œé‚£é‡Œæœ‰å¾ˆæ£’çš„æ•°æ®ç§‘å­¦èµ„æº</a>ï¼Œç‚¹å‡»é˜…è¯»æ›´å¤šå†…å®¹ï¼Œå¸®åŠ©ä½ æé«˜æŠ€èƒ½<a class="ae jy" href="https://medium.com/@jeffhale" rel="noopener">ã€‚ğŸ‘</a></p><figure class="lf lg lh li gt jr gh gi paragraph-image"><a href="https://dataawesome.com"><div class="ab gu cl op"><img src="../Images/ba32af1aa267917812a85c401d1f7d29.png" data-original-src="https://miro.medium.com/v2/format:webp/1*oPkqiu1rrt-hC_lDMK-jQg.png"/></div></a></figure><p id="a7b9" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">æŠ•ç¥¨å¿«ä¹ï¼ğŸš€</p></div></div>    
</body>
</html>