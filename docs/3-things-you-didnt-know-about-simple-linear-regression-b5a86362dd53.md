# å…³äºŽç®€å•çº¿æ€§å›žå½’ä½ ä¸çŸ¥é“çš„ 3 ä»¶äº‹

> åŽŸæ–‡ï¼š<https://towardsdatascience.com/3-things-you-didnt-know-about-simple-linear-regression-b5a86362dd53?source=collection_archive---------5----------------------->

çº¿æ€§å›žå½’å°†è¾“å…¥çº¿æ€§æ˜ å°„åˆ°è¾“å‡ºã€‚å‡è®¾ä½œä¸ºè§‚æµ‹æ•°æ®åŸºç¡€çš„æ•°æ®ç”Ÿæˆè¿‡ç¨‹æ˜¯ *y* = Xð›½ + ðœ–ï¼Œå…¶ä¸­

*   *y* æ˜¯é•¿åº¦ä¸º *n* (æ•°æ®ç‚¹æ•°)çš„å“åº”å‘é‡
*   x æ˜¯ä¸€ä¸ªç”±( *p* +1)ä¸ªç‹¬ç«‹å˜é‡ç»„æˆçš„ *n* çŸ©é˜µ
*   ð›½æ˜¯å›žå½’ç³»æ•°çš„( *p* +1)å‘é‡
*   ðœ–ä¹Ÿæ˜¯æ¯ä¸ªå…ƒç´  iid ~ N(0,ðœŽçš„( *p* +1)ä¸ªæ‰°åŠ¨å‘é‡

x ä¸­çš„æ¯ä¸€è¡Œæœ‰ *p* ä¸ªå…ƒç´ åŠ ä¸Šå¸¸æ•° 1ï¼Œå¸¸æ•° 1 æ–¹ä¾¿åœ°åŒ…æ‹¬ç³»æ•°å‘é‡ð›½.ä¸­çš„æˆªè·é¡¹åœ¨æ²¡æœ‰ä½¿ç”¨æˆªè·é¡¹çš„é—®é¢˜ä¸­ï¼Œ1 è¢«çœç•¥(é€šå¸¸æ˜¯ç‰¹å®šäºŽåº”ç”¨çš„å†³å®š)ã€‚ðœ–æ˜¯ä¸å¯çŸ¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åŸºäºŽ x å¯¹ *y* å»ºæ¨¡æ‰€èƒ½åšçš„æœ€å¥½çš„äº‹æƒ…å°±æ˜¯ç”¨ *b* æ¥ä¼°è®¡ð›½ï¼Œå³ *Å·* = X *b* ï¼Œå…¶ä¸­ *Å·* æ˜¯å¯¹ *y* çš„ä¼°è®¡ã€‚

ä¸ºäº†æ‹Ÿåˆè®­ç»ƒæ•°æ®ï¼Œæˆ‘ä»¬æœ€å°åŒ–æ®‹å·®å¹³æ–¹å’Œï¼Œå…¶ä¸­æ®‹å·®è¢«å®šä¹‰ä¸º *y* - *Å·* ã€‚ç”±äºŽ *Å·* = X *b* ï¼Œå¹³æ–¹å’Œå¯ä»¥å†™æˆ(*y*-x*b*)áµ€(*y*-x*b*)ã€‚å¯¹ *b* çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œå¾®åˆ†(*y*-x*b*)áµ€(*y*-x*b*)ç»™å‡ºäº†è‘—åçš„æ­£è§„æ–¹ç¨‹:Xáµ€( *y* -X *b* ) = 0ã€‚å‡è®¾ Xáµ€X æ˜¯å¯é€†çš„ï¼Œ *b* = (Xáµ€X)- Xáµ€ *y* ã€‚

çº¿æ€§å›žå½’çš„å‡ ä½•è§£é‡Šä¹Ÿè®¸æ›´ç›´è§‚ã€‚X çš„åˆ—å‘é‡è·¨è¶Šä¸€ä¸ªå­ç©ºé—´ï¼Œæœ€å°åŒ–æ®‹å·®ç›¸å½“äºŽå°† y æ­£äº¤æŠ•å½±åˆ°è¿™ä¸ªå­ç©ºé—´ä¸Šï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚é€šè¿‡æ­£äº¤æ€§ï¼Œå¯ä»¥ç«‹å³å¾—åˆ°æ­£è§„æ–¹ç¨‹ã€‚

![](img/b27654685d5b6ca294d6bba1d0e61a55.png)

Elements of Statistical Learning, p46

æœ‰äº†è¿™äº›äº‹å®žï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—å‡ºå¸¦æœ‰æˆªè·å’Œæ–œçŽ‡ç³»æ•°çš„ç®€å•çº¿æ€§å›žå½’çš„æŸäº›æ€§è´¨ã€‚æˆ‘ä»¬å°†å¼•ç”¨ R ä¸­çš„ä¸€ä¸ªçº¿æ€§å›žå½’ç¤ºä¾‹æ¥ä»”ç»†æ£€æŸ¥è¿™äº›å±žæ€§ã€‚

```
> set.seed(13)
> n = 20; x = 1:n; y = 2*x + rnorm(n, sd = 1)
> model = lm(y~x)
> summary(model)Call:
lm(formula = y ~ x)Residuals:
     Min       1Q   Median       3Q      Max 
-1.89019 -0.47625  0.01282  0.77558  1.48740Coefficients:
            Estimate Std. Error t value Pr(>|t|)    
(Intercept)  0.61809    0.43205   1.431     0.17    
x            1.95829    0.03607  54.296   <2e-16 ***
---
Signif. codes:  0 â€˜***â€™ 0.001 â€˜**â€™ 0.01 â€˜*â€™ 0.05 â€˜.â€™ 0.1 â€˜ â€™ 1Residual standard error: 0.9301 on 18 degrees of freedom
Multiple R-squared:  0.9939, Adjusted R-squared:  0.9936 
F-statistic:  2948 on 1 and 18 DF,  p-value: < 2.2e-16
```

1.  æ®‹å·®ä¹‹å’Œä¸ºé›¶ã€‚ç”±æ­£è§„æ–¹ç¨‹ xáµ€(*y*-x*b*)= xáµ€(*y*-*Å·*)= 0ã€‚ç”±äºŽ x æœ‰ä¸€åˆ— 1ï¼Œ1áµ€( *y* - *Å·* ) = 0ã€‚æˆ‘ä»¬å¯ä»¥ç”¨`sum(model$residuals)`åœ¨ R ä¸­è¿›è¡Œå¥å…¨æ€§æ£€æŸ¥ã€‚å†è€…ï¼ŒX ä¸­ä»»æ„ä¸€åˆ—ä¸Žæ®‹å·®çš„ç‚¹ç§¯ä¸º 0ï¼Œå¯ä»¥ç”¨`sum(x*model$residuals)`æ¥æŸ¥ã€‚
2.  æ–œçŽ‡é¡¹çš„ t æ£€éªŒä¸Ž F æ£€éªŒç­‰æ•ˆï¼Œå› ä¸ºå®ƒä»¬éƒ½æœ‰ç›¸åŒçš„é›¶å‡è®¾:æ–œçŽ‡ä¸º 0ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒä»¬çš„ p å€¼åœ¨ä¸Šé¢çš„æ€»ç»“ä¸­æ˜¯åŒ¹é…çš„ï¼Œ2e-16 å’Œ 2.2e-16ã€‚æ¥è‡ªå…·æœ‰ *k* è‡ªç”±åº¦çš„ t åˆ†å¸ƒçš„éšæœºå˜é‡ *T* ç­‰äºŽ*z*/sqrt(ðœ’_ {*k*}/*k*ï¼Œå…¶ä¸­ðœ’ _{ *k* }æ˜¯å…·æœ‰ *k* è‡ªç”±åº¦çš„å¡æ–¹éšæœºå˜é‡ã€‚å¹³æ–¹ *T_* ( *k* )ç»™å‡º *F* (1 *ï¼Œk* )éšæœºå˜é‡:*t*_ {*k*} =*z*/(ðœ’_ {*k*}/*k*)=(ðœ’_{1}/1)/(ðœ’_ {*k*}/*k*æˆ‘ä»¬å¯ä»¥ç¡®è®¤ï¼Œå¯¹æ±‡æ€»ä¸­ x é¡¹çš„ t å€¼(54.296)æ±‚å¹³æ–¹ï¼Œå¾—åˆ°æŠ¥å‘Šçš„ F ç»Ÿè®¡é‡(2948)ã€‚**
3.  å†³å®šç³»æ•° *R* ç­‰äºŽ *x* å’Œ *y* ä¹‹é—´ç›¸å…³æ€§çš„å¹³æ–¹ã€‚ *R* æµ‹é‡ç”± *x* è§£é‡Šçš„ *y* çš„å˜åŒ–æ¯”ä¾‹ã€‚ä¸€ä¸ªè¯æ˜Ž y ä¸Ž *Å·* çš„ç›¸å…³æ€§çš„å¹³æ–¹ç­‰äºŽ *R* è¿™é‡Œæ˜¯[è¿™é‡Œæ˜¯](https://economictheoryblog.com/2014/11/05/proof/)ï¼Œå¯¹äºŽç®€å•çº¿æ€§å›žå½’æ¥è¯´ *y* ä¸Ž *Å·* çš„ç›¸å…³æ€§ä¸Ž *y* ä¸Ž *x* çš„ç›¸å…³æ€§ç›¸åŒã€‚è¯·æ³¨æ„`cor(x,y)^2`ç»™å‡ºçš„å€¼ä¸Žâ€œå¤š R å¹³æ–¹â€æ—è¾¹æŠ¥å‘Šçš„å€¼ç›¸åŒ:0.9939ã€‚